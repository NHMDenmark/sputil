{% extends "spwift/base.html" %}

{% block title %}SpWIFT - Specify Web-based Import Facilitation Tool{% endblock %}

{% block pagename %}Specify Web-based Import Facilitation Tool{% endblock %}

{% block contenttitle %}Mass Annotated Digitization Desk (MADD){% endblock %}

{% block content %} 
                <form action="{% url 'spwift:digit' %}" method="post">{% csrf_token %}
                    <input type="hidden" id="post_origin" name="post_origin" value="digit"/>
                    <div class="row">
                        <div class="coll">
                            <label for="barcode">Barcode</label>
                            <input type="text" id="barcode" name="barcode" size="14">
                            <label for="catnr">Alt Cat Nr</label>
                            <input type="text" id="catnr" name="catnr" size="14">
                            <input type="checkbox" id="barcode_catnr" name="barcode_catnr">
                            <label for="barcode_catnr">Barcode=CatNr</label>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="coll">
                            <label for="region">Broad Geographical Region</label><br>
                            <input type="text" id="region" name="region" size="49" value="{%if region%}{{region}}{%endif%}">
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="coll">
                            <label for="taxon">Determination</label><br>
                            <input type="text" id="taxon" name="taxon" size="49" value="{%if taxon%}{{taxon}}{%endif%}">
                            <input type="checkbox" id="type" name="type">
                            <label for="type">Type</label>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="coll">
                            <label for="storage">Storage</label><br>
                            <input type="text" id="storage" name="storage" size="49" value="{%if storage%}{{storage}}{%endif%}">
                        </div>
                    </div>
                    <div class="row mt-3 mb-3">
                        <div class="coll">
                            <div class="container-fluid">
                                <input type="submit" value="Save & Go Back">
                                <input type="submit" value="Save">
                                <input type="submit" value="Save & Next">
                            </div>
                        </div>
                    </div>
                </form>
{% endblock %}

{% block sessioninfo %}
                <p>
                    <b>Username:</b> {{username}}<br>
                    <b>DateTime:</b> {% now "jS F Y H:i" %}<br>
                    <b>Collection:</b> {{collection.name}}<br>
                    <b>DataSet:</b> {{dataset_name}}
                </p>
                <!--<p>Collection:
                    <br>                 
                    <select id="collection" name="collection">
                    {% if collections %}
                        <option value="0">(selected collection)</option>                        
                        {% for c in collections %}
                        <option value="{{ c.spid }}" {% if c.spid|stringformat:"i" == collectionid.0 %} selected="selected" {%endif%}   >{{c.name|slice:"0:38"}}</option>
                        {% endfor %}
                    {% endif %}
                        <option value="99">Select me!</option>
                    </select>
                </p>-->
                <p>Preptype: 
                    <br>
                    <select id="preptype" name="preptype">
                        <option>(current preptype)</option>
                    {% if preptypes %}
                        {% for pt in preptypes %}
                        <option value="{{pt.spid}}" {%if pt.spid|stringformat:"i" == preptypeid.0 %} select {%endif%}>{{pt.name}}</option>
                        {% endfor %}
                    {% endif %}
                    </select>
                </p>
                <p>Higher Taxon: 
                    <br>
                    <select id="taxon" name="taxon">
                    <option>(current taxon)</option>
                    </select>
                </p>
                <!-- 
                    <h4>Debugging:</h4>                   
                    <p>{{collections.0}}
                    <p>currcoll: {{collectionid}}</p>
                    <p>datasetid: {{datasetid}}</p>
                    -->
{% endblock %}